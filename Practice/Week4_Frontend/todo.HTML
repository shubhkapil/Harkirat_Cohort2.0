<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<script>
    let globalId = 1;

    function markAsDone(parentId)
    {
        const parent = document.getElementById(parentId)
        const button = parent.children[2];
        const val = button.innerText;

        if(val==="Done!")
            button.innerHTML = "Mark As Done";
        else 
            button.innerHTML = "Done!"
    }
 
    function createChild(title,description,id)
    {

        const child = document.createElement("div");

        const titleElement = document.createElement("div");
        const descriptionElement = document.createElement("div");
        const buttonElement = document.createElement("Button");
        titleElement.innerHTML = title;
        descriptionElement.innerHTML = description;
        buttonElement.innerHTML = "Mark as Done"
        buttonElement.setAttribute("onclick",`markAsDone(${id})`);


        child.appendChild(titleElement);
        child.appendChild(descriptionElement);
        child.appendChild(buttonElement)
        child.setAttribute("id",id);

        return child;
    }
    function addTodo()
    {
        const title = document.getElementById("title").value;
        const description = document.getElementById("description").value;        
        

        // const initialHTML = document.getElementById("container").innerHTML;
        // document.getElementById("container").innerHTML = initialHTML + `
        // <div>
        //     <div>${title}</div>
        //     <div>${description}</div>
        //     <button onclick='deleteTodo(this)'>Delete Todo</button>
        // </div>
        // `
        
        const container = document.getElementById("container");

        container.appendChild(createChild(title,description,globalId++))
    }
</script>

<body>
    <div>
        <input id="title" type="text" placeholder="title"></input> <br> <br>
        <input id="description" type="text" placeholder="description"></input> <br><br>
        <Button onClick="addTodo()">Add Todo</Button><br><br>
        <div id="container"></div>
    </div>
    
</body>
</html>